<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Stencil Component Starter</title>
  <script src="/build/mycomponent.js"></script>

</head>
<body>

  <my-component first="Stencil" last="'Don't call me a framework' JS"></my-component>
  <ketchup-fld id="fld1" first="Runaways" last="'Call me any time"></ketchup-fld>
  <ketchup-button label="Sono bottone"></ketchup-button>
  <ketchup-radio id="krg1"></ketchup-radio>
  <ketchup-text-input id="int1" initial-value="ciao"></ketchup-text-input>

  <script>
    let once = true;
    // This is a script for testing these elements
    // This is mandatory for testing the passage of complex parameters inside web components
    setInterval(function() {
      console.log("executed test of settings");
      document.querySelector('#fld1').button = {label: 'ciao'};

      // Radio develop test
      const radio = document.querySelector('#krg1');
      radio.radioName = 'finalFantasy';
      radio.radioElements = [
        {
          label: 'Auron',
          value: 'Auron'
        },
        {
          label: 'Braska the summoner',
          value: 'Braska'
        },
        {
          label: 'Jecth the catcher',
          value: 'Jetch'
        }
      ];

      // Test input text
      const inText = document.querySelector('#int1');

      // Things which need to be done once
      if (once) {
        radio.addEventListener('ketchupRadioChanged', (event) => {
          console.log(event);
        });

        inText.addEventListener('ketchupTextInputFocused', e => {
            console.log('#int1 has been FOCUSED', e);
        });
        inText.addEventListener('ketchupTextInputBlurred', e => {
            console.log('#int1 has been BLURRED', e);
        });
        inText.addEventListener('ketchupTextInputUpdated', e => {
            console.log('#int1 has been UPDATED', e);
        });

        // Never triggers again these part of the code
        once = false;
      }
    }, 5000);
  </script>
</body>
</html>
